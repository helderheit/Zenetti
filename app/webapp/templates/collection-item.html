<div class="card">
    <div class="border">
        <div class="collection-label">%collection-label%</div>
        <button id="edit-collection-%collection-id%">Bearbeiten</button>
        <button id="remove-collection-%collection-id%">Löschen</button>
        <div class="collection-description">%collection-description%</div>
        <div class="collection-number">%collection-number% Items</div>
        <div class="collection-logo"><img src="%collection-logo-url%"></div> <div class="collection-attribution">%collection-attribution%</div>
        <div class="collection-owner-label">&#x1F464;</div> <div class="collection-ownder">%collection-owner%</div>
    </div>
</div>
<script type="text/javascript">
    $("#remove-collection-%collection-id%").on("click",function(){
        let id = (this.id).replace("remove-collection-","");
        loadTemplate("templates/confirm.html", function (template) {

            template= replaceParameter(template,"%confirm-id%", id);
            template = replaceParameter(template,"%confirm-title%", "Kunde löschen");
            template = replaceParameter(template,"%confirm-text%", "Do you really want to remove the collection %collection-label%?" +
                "(Included items will not be deleted)");
            template = replaceParameter(template,"%confirm-confirm%", "Löschen");
            template = replaceParameter(template,"%confirm-cancel%", "Abbrechen");
            $("body").append(template);

            $("#confirm-button-"+id).on("click",function(){
               apiRemoveCollection(id, function(){
                   $(".confirm-background").remove();
                   updateCollections();
               }, function(){});
            });

        });
    });
    $("#edit-collection-%collection-id%").on("click",function(){
        loadTemplate("templates/collection-editor.html", function (template) {
            template = replaceParameter(template,"%collection-editor-id%","%collection-id%");
            $("body").append(template);
        });
    });

</script>
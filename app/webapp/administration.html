<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500">
    <link rel="stylesheet" type="text/css" href="style/style.css">
    <script src="js/lib/jquery-3.3.1.min.js" type="text/javascript"></script>
    <script src="js/api/api.js" type="text/javascript"></script>

    <title>Zenetti - Administration</title>

    </head>

    <body>
        <header></header>
        <script type="text/javascript">
            $("header").load( "templates/header_bar.html" );
        </script>
         <div class="editor-background" id="user-editor">
             <div class="editor">
                 <div class="border">
                     <div class="editor-label">Add User</div>
                     <div class="editor-grid">
                         <span>Username:</span><input>
                         <span>Name:</span><input>
                         <span>Password:</span><input>
                         <span>Change Password:</span><div class ="checkbox"></div>
                         <span>Admin:</span><div class ="checkbox"></div>
                     </div>
                     <div class="editor-button">
                         <button id="add_user_confirm_button">Add User</button>
                         <button id="cancel_button">Cancel</button>
                     </div>
                 </div>
            </div>
             <script>
                 $("#cancel_button").on("click",function(){
                     $("#user-editor").hide();
                 });
             </script>
         </div>
        <div class="page-content">

            <h2>Administration</h2>
            <div class="section">
                <div class="toolbar border">
                    <button id="add_user_button">Add User</button>
                    <script type="text/javascript">
                        $("#add_user_button").on("click", function(){
                             $("#user-editor").show();
                            //$("#editor-background").load( "templates/user_editor.html" );


                        });
                    </script>
                </div>
            </div>
            <div class="section">
                <div class="user-table border">
                    <span class="first-row">Username</span>
                    <span class="first-row">Name</span>
                    <span class="first-row">admin</span>
                    <span class="first-row">master</span>
                    <span class="first-row">change password</span>
                    <span class="first-row"></span>
                </div>
            </div>
            <script type = text/javascript>
                apiGetUsers(function(users){
                    console.log(users);
                    for(var i in users) {
                        var dataItem = $("<span></span>");
                        dataItem.html(users[i].username);
                        $(".user-table").append(dataItem);
                        dataItem = $("<span></span>");
                        dataItem.html(users[i].name);
                        $(".user-table").append(dataItem);
                        dataItem = $("<span></span>");
                        dataItem.html(users[i].admin.toString());
                        $(".user-table").append(dataItem);
                        dataItem = $("<span></span>");
                        dataItem.html(users[i].master.toString());
                        $(".user-table").append(dataItem);
                        dataItem = $("<span></span>");
                        dataItem.html(users[i].change_password.toString());
                        $(".user-table").append(dataItem);
                        dataItem = $("<span></span>");
                        dataItem.html("<button>Edit</button><button>Remove</button>");
                        $(".user-table").append(dataItem);
                    }
                });
            </script>

        </div>
        <script src="js/ui.js" type="text/javascript"></script>

    </body>
</html>